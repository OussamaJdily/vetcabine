const translations = {
    en: {
        nav: {
            home: "Home",
            services: "Services",
            vet: "Vet Verified",
            about: "About",
            contact: "Contact",
            btn: "Get Started"
        },
        hero: {
            title: "Elevate Your Pet Business",
            subtitle: "Casablanca's premium digital agency specializing in the pet niche. We build, grow, and manage your digital presence with pro strategies that drive real patient and customer growth.",
            cta: "Work with us"
        },
        stats: {
            projects: "150+",
            projects_label: "Successful Projects",
            clients: "80+",
            clients_label: "Happy Pet Businesses",
            years: "5+",
            years_label: "Years of Excellence"
        },
        why: {
            title: "Why Pets Cabine?",
            subtitle: "We combine pet industry passion with world-class digital expertise to deliver measurable impact.",
            pro: "Pet Industry Pro",
            pro_desc: "We understand your niche better than anyone in Morocco. From clinic workflows to pet store retail trends.",
            strat: "Strategic Growth",
            strat_desc: "Data-driven results. We don't just 'post'; we engineer conversions for clinics and brands.",
            local: "Local & Global",
            local_desc: "Casablanca roots with international quality standards. We speak your language and your pets'.",
            impact_title: "Our Impact",
            impact_desc: "We have helped Casablanca clinics increase appointments by 40% and pet stores triple their online sales via optimized Google Maps and social strategy."
        },
        services: {
            title: "Premium Pet Digital Services",
            subtitle: "Comprehensive solutions tailored for veterinary clinics, pet stores, and pet brands.",
            workflow_title: "Our Strategic Process",
            step1_title: "Audit & Analysis",
            step1_desc: "360-degree review of your current digital footprint and local Casablanca competition.",
            step2_title: "Strategy Design",
            step2_desc: "Custom roadmap focused on ROI, patient retention, and brand authority.",
            step3_title: "Pro Execution",
            step3_desc: "Developing high-end assets, from websites to professional content production.",
            step4_title: "Growth & Management",
            step4_desc: "Continuous optimization, weekly reporting, and community scaling.",
            opt: "Optimization",
            opt_desc: "Speed, SEO, and medical-grade content for clinics.",
            map: "Map Management",
            map_desc: "Dominating local search in Casablanca for 'Vet near me' searches.",
            web: "Web Building",
            web_desc: "Premium, localized, and triple-language (EN/FR/AR) pet sites.",
            social: "Social Media",
            social_desc: "Elite content production for Instagram, TikTok, and LinkedIn.",
            logo: "Logo & Brand",
            logo_desc: "Distinctive identities that build lasting trust in the market.",
            video: "Content Production",
            video_desc: "High-end cinematic video editing for pet clinics and stores.",
            pkg_starter: "Digital Foundation",
            pkg_starter_desc: "Perfect for new pet shops or clinics. Google Maps, basic SEO, and Social Setup.",
            pkg_pro: "Market Leader",
            pkg_pro_desc: "All Foundation + 3-language website, monthly SEO, and content management.",
            pkg_elite: "Elite Authority",
            pkg_elite_desc: "Full digital management, cinematic video, paid ads scaling, and Vet Verification."
        },
        vet: {
            title: "Vet Verified Program",
            subtitle: "The gold standard of trust for Casablanca's pet industry.",
            benefits_title: "Why Get Verified?",
            b1: "Patient Trust",
            b1_desc: "Patient owners feel safer choosing clinics with our verification badge.",
            b2: "Organic Reach",
            b2_desc: "Priority ranking in our local pet maps and verified pet-care directory.",
            b3: "Pro Badge",
            b3_desc: "A digital symbol of excellence for your website and physical entrance.",
            steps_title: "Certification Process",
            s1: "Application Submission",
            s1_desc: "Send us your clinic or business documentation for review.",
            s2: "Standard Compliance Audit",
            s2_desc: "We verify your digital security and professional standards.",
            s3: "Certification Awarded",
            s3_desc: "Receive your certificate and digital badge assets.",
            req_title: "Audit Requirements",
            req_l1: "Validated Legal Business License in Morocco",
            req_l2: "Digital Security Audit for Patient Data Protection",
            req_l3: "Professional Quality of Multi-lang Content",
            req_l4: "Google Business Profile Optimization Audit",
            reviews_title: "Smart Review Management",
            reviews_subtitle: "Protect your reputation with our intelligent filtering system.",
            reviews_step1: "Scan QR Code",
            reviews_step1_desc: "Clients scan the unique code at your reception.",
            reviews_step2: "Sentiment Analysis",
            reviews_step2_desc: "Our system detects positive vs negative feedback instantly.",
            reviews_step3: "Smart Routing",
            reviews_step3_desc: "5-Star reviews go to Google Maps. Issues go privately to you."
        },
        about: {
            title: "Beyond the Digital Frontier",
            subtitle: "Casablanca's leading pet niche agency driving professional standards since 2021.",
            vision_title: "Our Vision",
            vision_desc: "To make Moroccan pet businesses the most professional digital actors in Africa.",
            mission_title: "Our Mission",
            mission_desc: "Empowering pet professionals with world-class digital tools and strategies that save lives.",
            story_title: "The Founding Story",
            story_desc: "Founded in Casablanca by a team of pet lovers and tech experts, Pets Cabine was born out of a realization: the pet industry in Morocco deserved world-class digital standards. Today, we are the only agency in the region dedicated exclusively to this noble niche.",
            team_title: "The Strategic Team",
            team_lead: "Strategic Director",
            team_content: "Content Specialist",
            team_tech: "Tech Lead",
            values_title: "Core Values",
            v1: "Pet-First Empathy",
            v2: "Data-Driven Precision",
            v3: "Local Glocalization"
        },
        contact: {
            title: "Start Your Evolution",
            subtitle: "Ready to take your pet business to the next level? Our specialists are ready to talk.",
            form_name: "Full Name",
            form_email: "Email Address",
            form_msg: "Your Message",
            form_btn: "Launch Project",
            faq_title: "Common Questions",
            q1: "How fast can we see results?",
            a1: "Google Maps results typically show in 30 days; full SEO and Web projects take 3-6 months for market dominance.",
            q2: "Do you only work in Casablanca?",
            a2: "We help pet businesses across Morocco (Rabat, Marrakech, Tangier) and international brands entering the market.",
            q3: "What is the cost of verification?",
            a3: "Verification is part of our Elite service package, or available as an annual certification audit.",

            hub_loc: "Casablanca, Morocco",
            hub_desc: "Premium Agency Hub",
            whatsapp: "WhatsApp",
            instagram: "Instagram",
            office_title: "Casablanca HQ",
            office_hours: "Mon - Fri: 09:00 - 18:30"
        },
        footer: {
            desc: "The premium digital engine for Casablanca's pet industry.",
            links: "Quick Links",
            legal: "Legal",
            address: "Casablanca, Morocco",
            copy: "© 2026 Pets Cabine. All rights reserved."
        }
    },
    fr: {
        nav: {
            home: "Accueil",
            services: "Services",
            vet: "Vétérinaire Vérifié",
            about: "À Propos",
            contact: "Contact",
            btn: "Déclarer"
        },
        hero: {
            title: "Boostez Votre Entreprise",
            subtitle: "L'agence digitale premium de Casablanca spécialisée dans la niche animale. Nous construisons et gérons votre présence avec des stratégies pros qui boostent votre clientèle.",
            cta: "Travailler avec nous"
        },
        stats: {
            projects: "150+",
            projects_label: "Projets Réussis",
            clients: "80+",
            clients_label: "Commerces Heureux",
            years: "5+",
            years_label: "Années d'Excellence"
        },
        why: {
            title: "Pourquoi Pets Cabine ?",
            subtitle: "Nous combinons passion pour les animaux et expertise digitale mondiale pour un impact mesurable.",
            pro: "Pro de la Niche",
            pro_desc: "Nous comprenons votre secteur mieux que quiconque au Maroc. Des cliniques aux animaleries.",
            strat: "Croissance Stratégique",
            strat_desc: "Résultats pilotés par les données. Nous optimisons vos conversions pour des résultats réels.",
            local: "Local & Global",
            local_desc: "Racines de Casablanca avec des standards internationaux. Nous parlons votre langue.",
            impact_title: "Notre Impact",
            impact_desc: "Nous avons aidé des cliniques à augmenter leurs rendez-vous de 40% grâce au SEO local."
        },
        services: {
            title: "Services Digitaux Premium",
            subtitle: "Solutions complètes pour cliniques vétérinaires et animaleries.",
            workflow_title: "Notre Processus Stratégique",
            step1_title: "Audit & Analyse",
            step1_desc: "Audit à 360 degrés de votre présence numérique et de vos concurrents à Casablanca.",
            step2_title: "Conception Stratégique",
            step2_desc: "Feuille de route personnalisée axée sur le ROI et l'autorité de votre marque.",
            step3_title: "Exécution Pro",
            step3_desc: "Création d'actifs haut de gamme, du web à la production de contenu.",
            step4_title: "Croissance & Gestion",
            step4_desc: "Optimisation continue, rapports hebdomadaires et mise à l'échelle de votre communauté.",
            opt: "Optimisation",
            opt_desc: "Vitesse web, SEO et contenu de qualité médicale pour cliniques.",
            map: "Gestion de Map",
            map_desc: "Dominez les recherches locales à Casablanca pour 'Vétérinaire proche de moi'.",
            web: "Construction Web",
            web_desc: "Sites premium, localisés et trilingues (EN/FR/AR).",
            social: "Réseaux Sociaux",
            social_desc: "Production de contenu élite pour Instagram et TikTok.",
            logo: "Branding",
            logo_desc: "Identités uniques qui bâtissent une confiance durable.",
            video: "Production Contenu",
            video_desc: "Montage vidéo cinématographique pour pros du secteur animalier.",
            pkg_starter: "Base Digitale",
            pkg_starter_desc: "Idéal pour les animaleries. Google Maps, SEO de base et réseaux sociaux.",
            pkg_pro: "Leader du Marché",
            pkg_pro_desc: "Base + Site web trilingue, SEO mensuel et gestion de contenu.",
            pkg_elite: "Autorité Élite",
            pkg_elite_desc: "Gestion complète, vidéo, publicité et Programme Vétérinaire Vérifié."
        },
        vet: {
            title: "Programme Vétérinaire Vérifié",
            subtitle: "Le standard de confiance pour l'industrie animale à Casablanca.",
            benefits_title: "Pourquoi devenir Vérifié ?",
            b1: "Confiance Patient",
            b1_desc: "Les propriétaires se sentent plus en sécurité avec nos cliniques certifiées.",
            b2: "Visibilité Bio",
            b2_desc: "Classement prioritaire dans nos annuaires et notre cartographie locale.",
            b3: "Badge Pro",
            b3_desc: "Un symbole digital d'excellence pour votre site et votre vitrine.",
            steps_title: "Processus de Certification",
            s1: "Candidature",
            s1_desc: "Envoyez-nous la documentation de votre clinique ou entreprise pour examen.",
            s2: "Audit de Conformité",
            s2_desc: "Nous vérifions votre sécurité numérique et vos normes professionnelles.",
            s3: "Certification Décernée",
            s3_desc: "Recevez votre certificat et vos badges numériques.",
            req_title: "Critères d'Audit",
            req_l1: "Licence commerciale valide au Maroc",
            req_l2: "Audit de sécurité des données patients",
            req_l3: "Qualité du contenu trilingue",
            req_l4: "Optimisation Google Business Profile",
            reviews_title: "Gestion Intelligente des Avis",
            reviews_subtitle: "Protégez votre réputation avec notre système de filtrage intelligent.",
            reviews_step1: "Scan QR Code",
            reviews_step1_desc: "Les clients scannent le code unique à votre réception.",
            reviews_step2: "Analyse des Sentiments",
            reviews_step2_desc: "Notre système détecte instantanément les feedbacks positifs vs négatifs.",
            reviews_step3: "Routage Intelligent",
            reviews_step3_desc: "Les avis 5 étoiles vont sur Google Maps. Les problèmes vous sont envoyés en privé."
        },
        about: {
            title: "Au-delà de la Frontière Digitale",
            subtitle: "L'agence leader de Casablanca qui professionnalise le secteur animal depuis 2021.",
            vision_title: "Notre Vision",
            vision_desc: "Faire des entreprises animales marocaines les plus pros d'Afrique.",
            mission_title: "Notre Mission",
            mission_desc: "Donner aux pros les outils digitaux qui sauvent des vies.",
            story_title: "Notre Histoire",
            story_desc: "Fondée à Casablanca, Pets Cabine est née pour professionnaliser le secteur animalier au Maroc. Aujourd'hui, nous sommes la seule agence dédiée exclusivement à cette niche noble.",
            team_title: "L'Équipe Stratégique",
            team_lead: "Directeur Stratégique",
            team_content: "Spécialiste Contenu",
            team_tech: "Lead Technique",
            values_title: "Nos Valeurs",
            v1: "Empathie Animale",
            v2: "Précision des Données",
            v3: "Glocalisation"
        },
        contact: {
            title: "Commencez Votre Évolution",
            subtitle: "Prêt à passer au niveau supérieur ? Parlons-en.",
            form_name: "Nom Complet",
            form_email: "E-mail",
            form_msg: "Votre Message",
            form_btn: "Lancer le Projet",
            faq_title: "Questions Fréquentes",
            q1: "Délai de résultats ?",
            a1: "30 jours pour Google Maps, 3-6 mois pour le SEO global.",
            q2: "Travaillez-vous hors Casablanca ?",
            a2: "Nous aidons les cliniques à Rabat, Marrakech et Tanger.",
            q3: "Coût de la vérification ?",
            a3: "Inclus dans le pack Élite ou via audit annuel.",

            hub_loc: "Casablanca, Maroc",
            hub_desc: "Hub de l'Agence Premium",
            whatsapp: "WhatsApp",
            instagram: "Instagram",
            office_title: "Siège Casablanca",
            office_hours: "Lun - Ven: 09:00 - 18:30"
        },
        footer: {
            desc: "Le moteur digital premium du secteur animalier à Casablanca.",
            links: "Liens Rapides",
            legal: "Légal",
            address: "Casablanca, Maroc",
            copy: "© 2026 Pets Cabine. Tous droits réservés."
        }
    },
    ar: {
        nav: {
            home: "الرئيسية",
            services: "خدماتنا",
            vet: "بيطري معتمد",
            about: "من نحن",
            contact: "اتصل بنا",
            btn: "ابدأ الآن"
        },
        hero: {
            title: "ارتقِ بمشروعك الرقمي",
            subtitle: "وكالة رقمية متميزة في الدار البيضاء متخصصة في مجال الحيوانات الأليفة. نبني ونطور وندير تواجدك الرقمي باستراتيجيات تزيد من عدد عملائك الحقيقيين.",
            cta: "اعمل معنا"
        },
        stats: {
            projects: "150+",
            projects_label: "مشروع ناجح",
            clients: "80+",
            clients_label: "عملاء سعداء",
            years: "5+",
            years_label: "سنوات من التميز"
        },
        why: {
            title: "لماذا بيتس كابين؟",
            subtitle: "نجمع بين الشغف بمجال الحيوانات الأليفة والخبرة الرقمية العالمية لتحقيق أثر ملموس.",
            pro: "احترافية التخصص",
            pro_desc: "نحن نفهم مجالك أكثر من أي شخص آخر في المغرب. من العيادات إلى المتاجر.",
            strat: "نمو استراتيجي",
            strat_desc: "نتائج مدفوعة بالبيانات. نطبق استراتيجيات تحويل حقيقية لعيادتك.",
            local: "محلي وعالمي",
            local_desc: "جذور بيضاوية بمعايير جودة دولية. نحن نتحدث لغتك ولغة حيوانك الأليف.",
            impact_title: "أثرنا",
            impact_desc: "ساعدنا عيادات في الدار البيضاء على زيادة مواعيدها بنسبة 40% بفضل البحث المحلي."
        },
        services: {
            title: "خدمات رقمية متميزة",
            subtitle: "حلول شاملة مصممة للعيادات البيطرية ومتاجر الحيوانات الأليفة.",
            workflow_title: "عمليتنا الاستراتيجية",
            step1_title: "التدقيق والتحليل",
            step1_desc: "مراجعة شاملة لتواجدك الرقمي ومنافسيك في الدار البيضاء.",
            step2_title: "تصميم الاستراتيجية",
            step2_desc: "خارطة طريق مخصصة تركز على العائد على الاستثمار وثقة علامتك التجارية.",
            step3_title: "التنفيذ الاحترافي",
            step3_desc: "تطوير أصول عالية الجودة، من المواقع إلى المحتوى الاحترافي.",
            step4_title: "النمو والإدارة",
            step4_desc: "تحسين مستمر وتقارير أسبوعية وتوسيع قاعدة عملائك.",
            opt: "التحسين الرقمي",
            opt_desc: "سرعة الأداء، محركات البحث، ومحتوى طبي للعيادات.",
            map: "إدارة الخرائط",
            map_desc: "السيطرة على البحث المحلي في الدار البيضاء لخدمات البيطرة.",
            web: "بناء المواقع",
            web_desc: "مواقع متميزة، محلية، وبثلاث لغات (إنجليزي/فرنسي/عربي).",
            social: "وسائل التواصل",
            social_desc: "إنتاج محتوى نخبوي لمنصات الانستغرام والتيك توك.",
            logo: "الهوية البصرية",
            logo_desc: "هوية بصرية فريدة تبني ثقة دائمة في السوق.",
            video: "إنتاج المحتوى",
            video_desc: "تحرير فيديو سينمائي احترافي للعيادات والمتاجر.",
            pkg_starter: "الأساس الرقمي",
            pkg_starter_desc: "مثالي للمتاجر الجديدة. خرائط جوجل، أساسيات البحث والشبكات.",
            pkg_pro: "رائد السوق",
            pkg_pro_desc: "الأساس + موقع بثلاث لغات، بحث شهري، وإدارة المحتوى.",
            pkg_elite: "سلطة النخبة",
            pkg_elite_desc: "إدارة كاملة، فيديو، إعلانات، وبرنامج البيطري المعتمد."
        },
        vet: {
            title: "برنامج بيطري معتمد",
            subtitle: "المعيار الذهبي للثقة في صناعة الحيوانات بالدار البيضاء.",
            benefits_title: "لماذا تحصل على الاعتماد؟",
            b1: "ثقة المربين",
            b1_desc: "يشعر المربون بالأمان عند اختيار العيادات التي تحمل شارتنا.",
            b2: "ظهور عضوي",
            b2_desc: "أولوية الترتيب في خرائطنا ودليل رعاية الحيوانات المعتمد.",
            b3: "شارة احترافية",
            b3_desc: "رمز رقمي للتميز لموقعك الإلكتروني ومدخل عيادتك.",
            steps_title: "عملية الاعتماد",
            s1: "تقديم الطلب",
            s1_desc: "أرسل لنا وثائق عيادتك أو عملك للمراجعة.",
            s2: "تدقيق معايير الامتثال",
            s2_desc: "نحن نتحقق من أمانك الرقمي ومعاييرك المهنية.",
            s3: "منح الشهادة",
            s3_desc: "احصل على شهادتك وشاراتك الرقمية.",
            req_title: "متطلبات التدقيق",
            req_l1: "سجل تجاري قانوني صالح في المغرب",
            req_l2: "تدقيق أمن البيانات لحماية خصوصية العملاء",
            req_l3: "جودة المحتوى بثلاث لغات",
            req_l4: "تحسين الملف التجاري على جوجل",
            reviews_title: "إدارة التقييمات الذكية",
            reviews_subtitle: "احمِ سمعتك من خلال نظام الفلترة الذكي الخاص بنا.",
            reviews_step1: "مسح رمز الاستجابة السريعة",
            reviews_step1_desc: "يقوم العملاء بمسح الرمز الفريد في مكتب الاستقبال.",
            reviews_step2: "تحليل المشاعر",
            reviews_step2_desc: "يقوم نظامنا باكتشاف التعليقات الإيجابية والسلبية فوراً.",
            reviews_step3: "توجيه ذكي",
            reviews_step3_desc: "تذهب التقييمات 5 نجوم إلى خرائط جوجل. المشكلات تصلك بشكل خاص."
        },
        about: {
            title: "ما وراء الأفق الرقمي",
            subtitle: "الوكالة الرائدة في الدار البيضاء لتعزيز المعايير المهنية منذ 2021.",
            vision_title: "رؤيتنا",
            vision_desc: "أن تصبح شركات الحيوانات الأليفة المغربية الأكثر احترافية رقمياً في أفريقيا.",
            mission_title: "مهمتنا",
            mission_desc: "تمكين المهنيين بأدوات واستراتيجيات رقمية عالمية تساهم في إنقاذ الأرواح.",
            story_title: "قصة التأسيس",
            story_desc: "تأسست بيتس كابين في الدار البيضاء على يد فريق من محبي الحيوانات وخبراء التقنية للرقي بهذا القطاع في المغرب.",
            team_title: "الفريق الاستراتيجي",
            team_lead: "المدير الاستراتيجي",
            team_content: "أخصائي المحتوى",
            team_tech: "المسؤول التقني",
            values_title: "قيمنا الجوهرية",
            v1: "التعاطف مع الحيوان",
            v2: "الدقة في البيانات",
            v3: "العولمة المحلية"
        },
        contact: {
            title: "ابدأ تطورك الرقمي",
            subtitle: "مستعد لنقل عملك إلى المستوى التالي؟ نحن جاهزون للتحدث.",
            form_name: "الاسم الكامل",
            form_email: "البريد الإلكتروني",
            form_msg: "رسالتك",
            form_btn: "إطلاق المشروع",
            faq_title: "أسئلة شائعة",
            q1: "متى نرى النتائج؟",
            a1: "30 يوماً لخرائط جوجل، و3-6 أشهر للمشاريع الشاملة.",
            q2: "هل تعملون في الدار البيضاء فقط؟",
            a2: "نساعد الشركات في الرباط، مراكش، وطنجة، والماركات الدولية.",
            q3: "ما هي تكلفة الاعتماد؟",
            a3: "متاح ضمن الباقة النخبوية أو كتدقيق سنوي منفصل.",

            hub_loc: "الدار البيضاء، المغرب",
            hub_desc: "مركز الوكالة المتميز",
            whatsapp: "واتساب",
            instagram: "إنستغرام",
            office_title: "مقر الدار البيضاء",
            office_hours: "الإثنين - الجمعة: 09:00 - 18:30"
        },
        footer: {
            desc: "المحرك الرقمي الأول لصناعة الحيوانات الأليفة في الدار البيضاء.",
            links: "روابط سريعة",
            legal: "قانوني",
            address: "الدار البيضاء، المغرب",
            copy: "© 2026 بيتس كابين. جميع الحقوق محفوظة."
        }
    }
};

class App {
    constructor() {
        this.theme = localStorage.getItem('theme') || 'light';
        this.lang = localStorage.getItem('lang') || 'en';
        this.cursor = { x: 0, y: 0 };
        this.cursorOutline = { x: 0, y: 0 };
        this.init();
    }

    init() {
        this.applyTheme();
        this.applyLanguage();
        this.setupMagneticButtons();
        this.setupIntersectionObserver();
        this.setupEventListeners();
        this.handleScroll();
    }

    setupMagneticButtons() {
        // Only apply magnetic effect on desktop
        if ('ontouchstart' in window) return;

        document.querySelectorAll('.btn-primary, .icon-btn, .magnetic').forEach(btn => {
            btn.addEventListener('mousemove', (e) => {
                const rect = btn.getBoundingClientRect();
                const x = (e.clientX - rect.left - rect.width / 2) * 0.2;
                const y = (e.clientY - rect.top - rect.height / 2) * 0.2;
                btn.style.transform = `translate(${x}px, ${y}px)`;
            });
            btn.addEventListener('mouseleave', () => {
                btn.style.transform = `translate(0px, 0px)`;
            });
        });
    }

    setupIntersectionObserver() {
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('active');
                }
            });
        }, { threshold: 0.1 });

        document.querySelectorAll('.reveal, .card, .section-header, .stat-item, .step').forEach(el => {
            el.classList.add('reveal');
            observer.observe(el);
        });
    }

    applyTheme() {
        document.documentElement.setAttribute('data-theme', this.theme);
        const themeBtn = document.querySelector('#theme-toggle i');
        if (themeBtn) {
            themeBtn.className = this.theme === 'dark' ? 'fa-solid fa-sun' : 'fa-solid fa-moon';
        }
        localStorage.setItem('theme', this.theme);
    }

    toggleTheme() {
        this.theme = this.theme === 'light' ? 'dark' : 'light';
        this.applyTheme();
    }

    applyLanguage() {
        document.documentElement.lang = this.lang;
        document.documentElement.dir = this.lang === 'ar' ? 'rtl' : 'ltr';

        document.querySelectorAll('[data-i18n]').forEach(el => {
            const path = el.getAttribute('data-i18n').split('.');
            let translation = translations[this.lang];
            path.forEach(key => {
                if (translation) translation = translation[key];
            });
            if (translation && typeof translation === 'string') {
                el.textContent = translation;
            }
        });

        localStorage.setItem('lang', this.lang);
    }

    setLanguage(lang) {
        this.lang = lang;
        this.applyLanguage();
    }

    setupEventListeners() {
        document.querySelector('#theme-toggle')?.addEventListener('click', () => this.toggleTheme());
        document.querySelectorAll('[data-lang]').forEach(btn => {
            btn.addEventListener('click', (e) => this.setLanguage(e.target.dataset.lang));
        });
        window.addEventListener('scroll', () => this.handleScroll());
    }

    handleScroll() {
        const nav = document.querySelector('.navbar');
        if (nav) {
            if (window.scrollY > 50) nav.classList.add('scrolled');
            else nav.classList.remove('scrolled');
        }
    }
}

document.addEventListener('DOMContentLoaded', () => {
    window.app = new App();
});
